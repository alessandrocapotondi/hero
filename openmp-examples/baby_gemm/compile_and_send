#!/bin/bash

export HERCULES_INSTALL=/scratch/mmaxim/hero/install
export HERCULES_ARCH="PULP"
export CMUX_ROOT="/scratch/mmaxim/cmux"
export HERCULES_FORCE_FOOTPRINT_DENSE=1
export HERCULES_CPU_MEMORY_SIZE=32768
export HERCULES_DISQ_THRESHOLD=0
export HERCULES_DMA_ENFORCE
export HERCULES_INTERVAL_STATS
export HERCULES_DEFAULT_NUM_THREADS=8
export HERCULES_NO_INTERVAL_CONTROLFLOW
export HERCULES_DUMP_REGIONS_PATH=/home/mmaxim/Downloads/regions-%a.xml
export HERCULES_DUMP_INTERVALS_PATH=/home/mmaxim/Downloads/intervals-%a.xml
export HERCULES_WHITELIST="gemm_nn gemm_cpu gemm .omp_outlined.
__omp_offloading_803_1108d5d_gemm_zero_l125 __omp_offloading_803_1108d69_gemm_zero_l125
__omp_offloading_803_1108bea_gemm_zero_l126 __omp_offloading_803_1108d79_gemm_zero_l125
__omp_offloading_803_1108d67_gemm_zero_l125 __omp_offloading_803_1108d0b_gemm_zero_l125
__omp_offloading_803_1108d58_gemm_zero_l125 __omp_offloading_803_1108d62_gemm_zero_l125
__omp_offloading_803_1108d57_gemm_zero_l126 __omp_offloading_803_1108d6c_gemm_zero_l125
__omp_offloading_803_1108d7b_gemm_zero_l125 __omp_offloading_803_1108d52_gemm_zero_l125
__omp_offloading_803_1108e4f_gemm_zero_l125 __omp_offloading_803_1108fb0_gemm_zero_l125
__omp_offloading_803_1108fb1_gemm_zero_l125 __omp_offloading_803_1107d82_gemm_zero_l125"
source ${HERCULES_INSTALL}/../toolchain/HerculesCompiler-public/environment.sh

export HERO_INSTALL=/scratch/mmaxim/hero/install
source ${HERO_INSTALL}/../env/exilzcu102.sh
make default-as=pulp clean all
scp baby_gemm root@hero-zcu102-06:/home/root/mmaxim/
