#!/bin/bash

### THIS FILE IS AUTOGENERATED BY check_gemm_whitelist ###
set -eo pipefail


## Comment out the region below to avoid PREM compilation ##
export HERCULES_INSTALL=${HERO_INSTALL}
export HERCULES_ARCH="PULP"
export HERCULES_FORCE_FOOTPRINT_DENSE=1
export HERCULES_CPU_MEMORY_SIZE=32768
export HERCULES_DEFAULT_NUM_THREADS=8
export HERCULES_DMA_ENFORCE
export HERCULES_QUIET
export HERCULES_NO_INTERVAL_CONTROLFLOW
export HERCULES_WHITELIST="main gemm_nn gemm_cpu gemm
.omp_outlined.
.omp_outlined..1
.omp_outlined..2
.omp_outlined..3
.omp_outlined..4
.omp_outlined..5
.omp_outlined..6
.omp_outlined..7
.omp_outlined..8
.omp_outlined..9
.omp_outlined..10
.omp_outlined..11
.omp_outlined..12
.omp_outlined..13"
source ${HERCULES_INSTALL}/../toolchain/HerculesCompiler-public/environment.sh
## End of region to be commented out


source ${HERO_INSTALL}/../env/exilzcu102.sh
make default-as=pulp clean all &> >(tee output.txt)
./check_gemm_whitelist output.txt &
