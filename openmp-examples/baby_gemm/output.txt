Prepending HERCULES installation paths to your environment.
  New PATH            is /scratch/mmaxim/hero/install/bin:/home/mmaxim/.cargo/bin:/usr/lib64/qt-3.3/bin:/home/mmaxim/bin:/bin:/usr/bin:/usr/local/bin:/sbin:/usr/sbin:/usr/local/sbin:/usr/local/condor/bin:/usr/sepp/bin:/home/mmaxim/bin:/usr/local/condor/bin:/usr/sepp/bin:/usr/sepp/bin
  New LIBRARY_PATH    is /scratch/mmaxim/hero/install/lib:/scratch/mmaxim/hero/install/lib/hercules:
  New LD_LIBRARY_PATH is /scratch/mmaxim/hero/install/lib:/scratch/mmaxim/hero/install/lib/hercules:
Configuring PULP SDK at: /scratch/mmaxim/hero/pulp/sdk/pkg/sdk/dev
rm -vf darknet __hmpp* baby_gemm *~ *.dis *.ll *.slm
removed â€˜main-dev.llâ€™
removed â€˜main-dev.TMP.1.llâ€™
removed â€˜main-dev.TMP.2.llâ€™
removed â€˜main-dev.TMP.3.llâ€™
removed â€˜main-host.llâ€™
removed â€˜main-host.TMP.1.llâ€™
removed â€˜main.llâ€™
removed â€˜main-out.llâ€™
rm -rvf .deps
removed â€˜.deps/gemm.dâ€™
removed â€˜.deps/main.dâ€™
removed directory: â€˜.depsâ€™
rm -vf __hmpp* baby_gemm *~ *.bc *.dis *.i *.lh *.lk *.ll *.o *.s *.slm
rm -rvf .deps
clang -c -emit-llvm -S -MT main.ll -MMD -MP -MF .deps/main.d --sysroot=/scratch/mmaxim/hero/install/aarch64-hero-linux-gnu/ -fopenmp -fintegrated-as -target aarch64-hero-linux-gnu  -fopenmp=libomp -O3 -static -fhero-device-default-as=device -fopenmp-targets=riscv32-hero-unknown-elf -I/scratch/mmaxim/hero/install/../openmp-examples/polybench-acc/common -I/scratch/mmaxim/cmux/inc -I/scratch/mmaxim/cmux/src -I/scratch/mmaxim/hero/openmp-examples/common -include hero_64.h main.c
main.c:44:9: warning: implicitly declaring library function 'fabs' with type 'double (double)' [-Wimplicit-function-declaration]
    if (fabs(C[i] - E[i]) > 0.00001) {
        ^
main.c:44:9: note: include the header <math.h> or explicitly provide a declaration for 'fabs'
[0;1;36mNOTICE: [0m[1mAnalyzing module "[0;1;35mmain.c[0m[1m" for target [0;1;35maarch64-hero-linux-gnu[0m[1m, using [0;1;35mHardware Caches[0m[1m for local storage
[0m[0;1;36mNOTICE: [0mOverriding default CPU memory size with 32768 bytes
We found a loop!
We found a loop!
Unpredictablity reason:Depends on multiple induction variables.
Analyzing accesses of loop regions
Unpredictablity reason in loop:Depends on multiple induction variables.
Analyzing accesses of loop regions
Unpredictablity reason in loop:Depends on multiple induction variables.
We found a loop!
We found a loop!
Analyzing accesses of loop regions
Analyzing accesses of loop regions
We found a loop!
We found a loop!
Unpredictablity reason:Depends on multiple induction variables.
Unpredictablity reason:Depends on multiple induction variables.
We found a loop!
Unpredictablity reason:Depends on multiple induction variables.
Unpredictablity reason:Depends on multiple induction variables.
Analyzing accesses of loop regions
Unpredictablity reason in loop:Depends on multiple induction variables.
Unpredictablity reason in loop:Depends on multiple induction variables.
Analyzing accesses of loop regions
Unpredictablity reason in loop:Depends on multiple induction variables.
Unpredictablity reason in loop:Depends on multiple induction variables.
Unpredictablity reason in loop:Depends on multiple induction variables.
Unpredictablity reason in loop:Depends on multiple induction variables.
Analyzing accesses of loop regions
Unpredictablity reason in loop:Depends on multiple induction variables.
Unpredictablity reason in loop:Depends on multiple induction variables.
Unpredictablity reason in loop:Depends on multiple induction variables.
Unpredictablity reason in loop:Depends on multiple induction variables.
We found a loop!
We found a loop!
We found a loop!
Analyzing accesses of loop regions
  Replacing trip count 2768897 with [ IN, UPPER - 1 - start] 2768896
Loop access analysis successful
  Replacing trip count 2768897 with [ IN, UPPER - 1 - start] 2768896
Loop access analysis successful
Reduced IV   %indvars.iv217 = phi i64 [ %indvars.iv.next218, %for.cond.cleanup76 ], [ 0, %for.body57 ] to -99 trips
NOT SUCCESSFUL!
Reduced IV   %indvars.iv211 = phi i64 [ %indvars.iv.next212, %for.body77 ], [ 0, %for.body63 ] to -99 trips
Reduced IV   %indvars.iv221 = phi i64 [ %indvars.iv.next222, %for.cond.cleanup62 ], [ 0, %for.cond.cleanup31 ] to -99 trips
NOT SUCCESSFUL!
Reduced IV   %indvars.iv217 = phi i64 [ %indvars.iv.next218, %for.cond.cleanup76 ], [ 0, %for.body57 ] to -99 trips
Reduced IV   %indvars.iv211 = phi i64 [ %indvars.iv.next212, %for.body77 ], [ 0, %for.body63 ] to -99 trips
Overrule intervals: Checking for environment variable HERCULES_OVERRULE_INTERVALS_aarch64...Not defined
Overrule loops: Checking for environment variable HERCULES_OVERRULE_LOOPS_aarch64...Not defined
[0m[1mINTERVAL 1: [0m[0;1;31mCOMPATIBLE [0mfrom regions 0 (-g for line info)
      Reason  : [0m[1mcall to external function: malloc (-g for line info)
[0m
[0m[1mINTERVAL 3: [0m[0;1;31mCOMPATIBLE [0mfrom regions 2 3 4 (-g for line info)
      Reason  : [0m[1mcall to external function: malloc (-g for line info)
[0m      Reason  : [0m[1mcall to external function: malloc (-g for line info)
[0m      Reason  : [0m[1mcall to external function: malloc (-g for line info)
[0m
[0m[1mINTERVAL 4: [0m[0;1;32mPREDICTABLE [0m[1mLINEAR [0mfrom regions 12 13 14 (-g for line info)
  Memory use  : 1904 bytes
    [[0;1;35mItBf[0m] RANGE: arrayidx (call)  [ 0 : 16 ] [ 0 : 27 ] (SPM element size = 4)

[0m[1mINTERVAL 9: [0m[0;1;32mPREDICTABLE [0m[1mLINEAR [0mfrom regions 28 (-g for line info)
  Memory use  : 8 bytes
    [[0;1;35mItBf[0m] RANGE: arrayidx67 (call13)  [ 0 : 0 ] [ 0 : 0 ] (SPM element size = 4)
    [[0;1;35mItBf[0m] RANGE: arrayidx71 (call9)  [ 0 : 0 ] [ 0 : 0 ] (SPM element size = 4)

[0m[1mINTERVAL 10: [0m[0;1;32mPREDICTABLE [0m[1mLINEAR [0mfrom regions 31 32 (-g for line info)
  Memory use  : 224 bytes
    [[0;1;35mItBf[0m] RANGE: arrayidx81 (call)  [ 0 : 0 ] [ 0 : 0 ] [ 0 : 27 ] (SPM element size = 4)
    [[0;1;35mItBf[0m] RANGE: arrayidx85 (call5)  [ 0 : 0 ] [ 0 : 0 ] [ 0 : 27 ] (SPM element size = 4)

[0m[1mINTERVAL 13: [0m[0;1;31mCOMPATIBLE [0mfrom regions 39 (-g for line info)
      Reason  : [0m[1mcall to external function: gemm (-g for line info)
[0m
[0m[1mINTERVAL 14: [0m[0;1;32mPREDICTABLE [0m[1mLINEAR [0mfrom regions 41 (-g for line info)
  Memory use  : 8 bytes
    [[0;1;36mSCEV[0m] RANGE: call9 [ 0 : 0 ] (SPM element size = 4)
    [[0;1;36mSCEV[0m] RANGE: call13 [ 0 : 0 ] (SPM element size = 4)

[0m[1mINTERVAL 15: [0m[0;1;31mCOMPATIBLE [0mfrom regions 42 (-g for line info)
      Reason  : [0m[1mCall to blacklisted (HERCULES_FORCE_COMPATIBLE) function: llvm.fabs.f64 (-g for line info)
[0m
[0m[1mINTERVAL 19: [0m[0;1;31mCOMPATIBLE [0mfrom regions 57 (-g for line info)
      Reason  : [0m[1mDemoting interleaved Compatible and Predictable to single Compatible: Resulting Predictable interval is too small. Limit is 0 bytes, override with HERCULES_DISQ_THRESHOLD.
[0m                  call to external function: printf (-g for line info)
                  call to external function: printf (-g for line info)

[0m[1mINTERVAL 22: [0m[0;1;31mCOMPATIBLE [0mfrom regions 60 61 62 63 (-g for line info)
      Reason  : [0m[1mcall to external function: free (-g for line info)
[0m      Reason  : [0m[1mcall to external function: free (-g for line info)
[0m      Reason  : [0m[1mcall to external function: free (-g for line info)
[0m      Reason  : [0m[1mcall to external function: free (-g for line info)
[0m
Collecting instructions for intervals... [0%...20%...40%...60%...80%...DONE]
[0;1;33mWARNING: [0mNo min offset for baseArray:   %call = call noalias i8* @malloc(i64 1728) #6
UNHANDLED CASE: GEP DEPENDS ON MULTIPLE INDUCTION VARS!
     USED INDVAR: indvars.iv237
     USED INDVAR: indvars.iv233
[0;1;33mWARNING: [0mNo min offset for baseArray:   %call13 = call noalias i8* @malloc(i64 11075584) #6
UNHANDLED CASE: GEP DEPENDS ON MULTIPLE INDUCTION VARS!
     USED INDVAR: indvars.iv221
     USED INDVAR: indvars.iv217
[0;1;33mWARNING: [0mNo min offset for baseArray:   %call9 = call noalias i8* @malloc(i64 11075584) #6
UNHANDLED CASE: GEP DEPENDS ON MULTIPLE INDUCTION VARS!
     USED INDVAR: indvars.iv221
     USED INDVAR: indvars.iv217
[0;1;33mWARNING: [0mNo min offset for baseArray:   %call = call noalias i8* @malloc(i64 1728) #6
UNHANDLED CASE: GEP DEPENDS ON MULTIPLE INDUCTION VARS!
     USED INDVAR: indvars.iv221
     USED INDVAR: indvars.iv211
[0;1;33mWARNING: [0mNo min offset for baseArray:   %call5 = call noalias i8* @malloc(i64 18690048) #6
UNHANDLED CASE: GEP DEPENDS ON MULTIPLE INDUCTION VARS!
     USED INDVAR: indvars.iv211
     USED INDVAR: indvars.iv217
[0;1;34m[HERCULES] Footprint Analysis : [0m[1mmain.c (aarch64-hero-linux-gnu)[0m: Identified 10 interval(s) in 1 kernel(s).
[0;1;33mWARNING [0m[WarpSeparate.cpp:121] [0m[1mInserting COMPATIBLE PremNotify at entry "main" with major ID INT_MAX.
[0m[0;1;36mNOTICE: [0m[1mTransforming module "[0;1;35mmain.c[0m[1m" for target [0;1;35maarch64-hero-linux-gnu[0m[1m, using [0;1;35mHardware Caches[0m[1m for local storage
[0m  [[0;1;33mSAFE[0m] Interval 9 does not have unique IVs per dimension, which is not supported in the current implementation.
  [[0;1;33mSAFE[0m] Interval 4 does not have unique IVs per dimension, which is not supported in the current implementation.
  [[0;1;33mSAFE[0m] Interval 10 does not have unique IVs per dimension, which is not supported in the current implementation.
[0;1;36mNOTICE: [0mSoftDMA optimization is enabled.
  [[0;1;36mSCEV[0m] Interval 14 is Fully Analyzable, optimizing Load/Stores.
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
Removing metadata HRCLSPMIndVar_0
Removing metadata HRCLSPMIndVar_1
Removing metadata HRCLSPMIndVar_2
1 warning generated.
main.c:10:10: warning: initializing '__attribute__((address_space(1))) float *' with an expression of type 'float *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
  float* A = (float*)malloc(M*K*sizeof(float));
         ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
main.c:11:10: warning: initializing '__attribute__((address_space(1))) float *' with an expression of type 'float *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
  float* B = (float*)malloc(K*N*sizeof(float));
         ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
main.c:12:10: warning: initializing '__attribute__((address_space(1))) float *' with an expression of type 'float *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
  float* C = (float*)malloc(M*N*sizeof(float));
         ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
main.c:13:10: warning: initializing '__attribute__((address_space(1))) float *' with an expression of type 'float *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
  float* E = (float*)malloc(M*N*sizeof(float));
         ^   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
main.c:44:9: warning: implicitly declaring library function 'fabs' with type 'double (double)' [-Wimplicit-function-declaration]
    if (fabs(C[i] - E[i]) > 0.00001) {
        ^
main.c:44:9: note: include the header <math.h> or explicitly provide a declaration for 'fabs'
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;33mWARNING: [0m[1mFailed to find program entry point in module "main.c" (riscv32-hero-unknown-elf) -- [0;1;31mwill not be analyzed/transformed by HERCULES Passes[0m[1m. Please merge all source files into a single file to enable static analysis.
[0m[0;1;34m[HERCULES] ChannelArgInsertion: [0m[1mmain.c (riscv32-hero-unknown-elf)[0m: Didn't find any GPUguard calls, doing nothing.
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lw $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lw $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sw $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32 %val, i32* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sw $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32 %val, i32* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i16, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lhu $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i, i32* nonnull inttoptr (i32 270535672 to i32*), i16* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i16, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lhu $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i16* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sh $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i, i32* nonnull inttoptr (i32 270535672 to i32*), i16 %val, i16* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sh $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i16 %val, i16* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i8, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lbu $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i, i32* nonnull inttoptr (i32 270535672 to i32*), i8* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i8, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lbu $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i8* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sb $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i, i32* nonnull inttoptr (i32 270535672 to i32*), i8 %val, i8* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sb $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i8 %val, i8* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lw $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %3 = tail call { i32, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lw $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i.i.i9, i32* nonnull inttoptr (i32 270535672 to i32*), i32* %2, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sw $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32 %conv, i32* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %3 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sw $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i.i.i7, i32* nonnull inttoptr (i32 270535672 to i32*), i32 %conv1, i32* %2, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %2 = tail call { i32, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lw $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32* %1, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %4 = tail call { i32, i32, i32 } asm sideeffect "csrrci $2, 0x300, 3\0A\09sw $3, 0($4)\0A\09lw $0, 0($5)\0A\09lw $1, 4($4)\0A\09csrrw x0, 0x300, $2", "=&r,=r,=&r,r,r,r,2,~{memory}"(i32 %conv.i.i9, i32* nonnull inttoptr (i32 270535672 to i32*), i32* %3, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %1 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sw $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i.i, i32* nonnull inttoptr (i32 270535672 to i32*), i32 %conv, i32* %0, i32 undef) #2, !srcloc !2
[0;1;33mWARNING [0m[Utils.cpp:125] [0m[1mCall target is not a function
[0m  %3 = tail call { i32, i32 } asm sideeffect "csrrci $1, 0x300, 3\0A\09sw $2, 0($3)\0A\09sw $4, 0($5)\0A\09lw $0, 4($3)\0A\09csrrw x0, 0x300, $1", "=r,=&r,r,r,r,r,1,~{memory}"(i32 %conv.i.i10, i32* nonnull inttoptr (i32 270535672 to i32*), i32 %conv1, i32* %2, i32 undef) #2, !srcloc !2
5 warnings generated.
clang-offload-bundler -inputs=main.ll -outputs="main-host.ll,main-dev.ll" -type=ll -targets="host-aarch64-hero-linux-gnu,openmp-riscv32-hero-unknown-elf" -unbundle
hc-omp-pass main-host.ll OmpKernelWrapper "HERCULES-omp-kernel-wrapper" main-host.TMP.1.ll
cp main-host.TMP.1.ll main-host.OMP.ll
cp main-dev.ll main-dev.TMP.1.ll
hc-omp-pass main-dev.TMP.1.ll OmpKernelWrapper "HERCULES-omp-kernel-wrapper" main-dev.TMP.2.ll
hc-omp-pass main-dev.TMP.2.ll OmpHostPointerLegalizer "HERCULES-omp-host-pointer-legalizer" main-dev.TMP.3.ll
cp main-dev.TMP.3.ll main-dev.OMP.ll
clang-offload-bundler -inputs="main-host.OMP.ll,main-dev.OMP.ll" -outputs=main-out.ll -type=ll -targets="host-aarch64-hero-linux-gnu,openmp-riscv32-hero-unknown-elf"
clang -c -emit-llvm -S -MT gemm.ll -MMD -MP -MF .deps/gemm.d --sysroot=/scratch/mmaxim/hero/install/aarch64-hero-linux-gnu/ -fopenmp -fintegrated-as -target aarch64-hero-linux-gnu  -fopenmp=libomp -O3 -static -fhero-device-default-as=device -fopenmp-targets=riscv32-hero-unknown-elf -I/scratch/mmaxim/hero/install/../openmp-examples/polybench-acc/common -I/scratch/mmaxim/cmux/inc -I/scratch/mmaxim/cmux/src -I/scratch/mmaxim/hero/openmp-examples/common -include hero_64.h gemm.c
[0;1;36mPOINTER CAST: [0mCGOpenMPRuntime::getOrCreateDefaultLocation: @.str.4 = private unnamed_addr constant [23 x i8] c";unknown;unknown;0;0;;\00", align 1
[0;1;33mWARNING: [0m[1mFailed to find program entry point in module "gemm.c" (aarch64-hero-linux-gnu) -- [0;1;31mwill not be analyzed/transformed by HERCULES Passes[0m[1m. Please merge all source files into a single file to enable static analysis.
[0m[0;1;33mWARNING [0m[Utils.cpp:136] [0m[1mNot handling arguments for kmpc_forks
[0m[0;1;33mWARNING [0m[Utils.cpp:136] [0m[1mNot handling arguments for kmpc_forks
[0m
; Function Attrs: norecurse nounwind
define internal void @.omp_outlined.(i32* noalias nocapture readonly %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture readonly dereferenceable(4) %M, i32* nocapture dereferenceable(4) %k, i32* nocapture readonly dereferenceable(4) %K, float* nocapture readonly dereferenceable(4) %ALPHA, float** nocapture readonly dereferenceable(8) %A, i32* nocapture readonly dereferenceable(4) %lda, i32* nocapture dereferenceable(4) %j, i32* nocapture readonly dereferenceable(4) %N, float** nocapture readonly dereferenceable(8) %C, i32* nocapture readonly dereferenceable(4) %ldc, float** nocapture readonly dereferenceable(8) %B, i32* nocapture readonly dereferenceable(4) %ldb) #8 {
entry:
  %.omp.lb = alloca i32, align 4
  %.omp.ub = alloca i32, align 4
  %.omp.stride = alloca i32, align 4
  %.omp.is_last = alloca i32, align 4
  %0 = load i32, i32* %M, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %sub2 = add nsw i32 %0, -1
  %cmp = icmp sgt i32 %0, 0
  br i1 %cmp, label %omp.precond.then, label %omp.precond.end

omp.precond.then:                                 ; preds = %entry
  %1 = bitcast i32* %.omp.lb to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %1) #11
  store i32 0, i32* %.omp.lb, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %2 = bitcast i32* %.omp.ub to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %2) #11
  store i32 %sub2, i32* %.omp.ub, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %3 = bitcast i32* %.omp.stride to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %3) #11
  store i32 1, i32* %.omp.stride, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %4 = bitcast i32* %.omp.is_last to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %4) #11
  store i32 0, i32* %.omp.is_last, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %5 = load i32, i32* %.global_tid., align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  call void @__kmpc_for_static_init_4(%struct.ident_t* nonnull @0, i32 %5, i32 34, i32* nonnull %.omp.is_last, i32* nonnull %.omp.lb, i32* nonnull %.omp.ub, i32* nonnull %.omp.stride, i32 1, i32 1) #11
  %6 = load i32, i32* %.omp.ub, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp5 = icmp sgt i32 %6, %sub2
  %cond = select i1 %cmp5, i32 %sub2, i32 %6
  store i32 %cond, i32* %.omp.ub, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %7 = load i32, i32* %.omp.lb, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %8 = load float*, float** %A, align 8
  %9 = load float*, float** %B, align 8
  %10 = load float*, float** %C, align 8
  %cmp682 = icmp sgt i32 %7, %cond
  br i1 %cmp682, label %omp.loop.exit, label %for.cond.preheader

for.cond.preheader:                               ; preds = %omp.precond.then, %omp.inner.for.inc
  %.omp.iv.0.reg2mem74.083 = phi i32 [ %add28, %omp.inner.for.inc ], [ %7, %omp.precond.then ]
  store i32 0, i32* %k, align 4, !tbaa !13
  %11 = load i32, i32* %K, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp880 = icmp sgt i32 %11, 0
  br i1 %cmp880, label %for.body, label %omp.inner.for.inc

for.body:                                         ; preds = %for.cond.preheader, %for.end
  %storemerge81 = phi i32 [ %inc26, %for.end ], [ 0, %for.cond.preheader ]
  %12 = load float, float* %ALPHA, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %13 = load i32, i32* %lda, align 4, !tbaa !13, !HRCLGlobalLoadStore !9, !HRCLIntermediateOnly !9
  %mul9 = mul nsw i32 %13, %.omp.iv.0.reg2mem74.083
  %add10 = add nsw i32 %mul9, %storemerge81
  %idxprom = sext i32 %add10 to i64
  %arrayidx = getelementptr inbounds float, float* %8, i64 %idxprom
  %14 = load float, float* %arrayidx, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %mul11 = fmul float %12, %14
  store i32 0, i32* %j, align 4, !tbaa !13
  %15 = load i32, i32* %N, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp1378 = icmp sgt i32 %15, 0
  %16 = load i32, i32* %k, align 4, !tbaa !13
  br i1 %cmp1378, label %for.body14, label %for.end

for.body14:                                       ; preds = %for.body, %for.body14
  %17 = phi i32 [ %23, %for.body14 ], [ %16, %for.body ]
  %storemerge7779 = phi i32 [ %inc, %for.body14 ], [ 0, %for.body ]
  %18 = load i32, i32* %ldb, align 4, !tbaa !13, !HRCLGlobalLoadStore !9, !HRCLIntermediateOnly !9
  %mul15 = mul nsw i32 %18, %17
  %add16 = add nsw i32 %mul15, %storemerge7779
  %idxprom17 = sext i32 %add16 to i64
  %arrayidx18 = getelementptr inbounds float, float* %9, i64 %idxprom17
  %19 = load float, float* %arrayidx18, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %mul19 = fmul float %mul11, %19
  %20 = load i32, i32* %ldc, align 4, !tbaa !13, !HRCLGlobalLoadStore !9, !HRCLIntermediateOnly !9
  %mul20 = mul nsw i32 %20, %.omp.iv.0.reg2mem74.083
  %add21 = add nsw i32 %mul20, %storemerge7779
  %idxprom22 = sext i32 %add21 to i64
  %arrayidx23 = getelementptr inbounds float, float* %10, i64 %idxprom22
  %21 = load float, float* %arrayidx23, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %add24 = fadd float %mul19, %21
  store float %add24, float* %arrayidx23, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %inc = add nuw nsw i32 %storemerge7779, 1
  store i32 %inc, i32* %j, align 4, !tbaa !13
  %22 = load i32, i32* %N, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp13 = icmp slt i32 %inc, %22
  %23 = load i32, i32* %k, align 4, !tbaa !13
  br i1 %cmp13, label %for.body14, label %for.end

for.end:                                          ; preds = %for.body14, %for.body
  %.lcssa = phi i32 [ %16, %for.body ], [ %23, %for.body14 ]
  %inc26 = add nsw i32 %.lcssa, 1
  store i32 %inc26, i32* %k, align 4, !tbaa !13
  %24 = load i32, i32* %K, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp8 = icmp slt i32 %inc26, %24
  br i1 %cmp8, label %for.body, label %omp.inner.for.inc

omp.inner.for.inc:                                ; preds = %for.end, %for.cond.preheader
  %add28 = add nsw i32 %.omp.iv.0.reg2mem74.083, 1
  %cmp6 = icmp slt i32 %.omp.iv.0.reg2mem74.083, %cond
  br i1 %cmp6, label %for.cond.preheader, label %omp.loop.exit

omp.loop.exit:                                    ; preds = %omp.inner.for.inc, %omp.precond.then
  call void @__kmpc_for_static_fini(%struct.ident_t* nonnull @0, i32 %5) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %4) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %3) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %2) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %1) #11
  br label %omp.precond.end

omp.precond.end:                                  ; preds = %entry, %omp.loop.exit
  ret void
}

[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
In file included from gemm.c:6:
/scratch/mmaxim/cmux/src/cmux.c:33:17: warning: passing 'char *__attribute__((address_space(1)))' to parameter of type 'const __attribute__((address_space(1))) char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
        strcpy(buffer, message->request);
                       ^~~~~~~~~~~~~~~~
/scratch/mmaxim/hero/install/bin/../lib/gcc/riscv32-unknown-elf/7.1.1/../../../../riscv32-unknown-elf/include/string.h:34:63: note: passing argument to parameter here
char    *_EXFUN(strcpy,(char *__restrict, const char *__restrict));
                                                                ^
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
In file included from gemm.c:6:
/scratch/mmaxim/cmux/src/cmux.c:51:19: warning: assigning to 'char *__attribute__((address_space(1)))' from '__attribute__((address_space(1))) char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
        message->request = strsep(&buffer, ":");
                         ^ ~~~~~~~~~~~~~~~~~~~~
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
gemm.c:116:11: warning: initializing 'float (__attribute__((address_space(1))) *)[27]' with an expression of type 'float (*)[27]' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
  float (*matA)[K] = (float(*)[K]) A;
          ^          ~~~~~~~~~~~~~~~
gemm.c:117:11: warning: initializing 'float (__attribute__((address_space(1))) *)[173056]' with an expression of type 'float (*)[173056]' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
  float (*matB)[N] = (float(*)[N]) B;
          ^          ~~~~~~~~~~~~~~~
gemm.c:118:11: warning: initializing 'float (__attribute__((address_space(1))) *)[173056]' with an expression of type 'float (*)[173056]' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
  float (*matC)[N] = (float(*)[N]) C;
          ^          ~~~~~~~~~~~~~~~
[0;1;36mPOINTER CAST: [0mCGOpenMPRuntime::getOrCreateDefaultLocation: @.str = private unnamed_addr constant [23 x i8] c";unknown;unknown;0;0;;\00", align 1
[0;1;36mPOINTER CAST: [0mAccepting Address Space Cast for Array To Pointer Decay for HERO
[0;1;36mNOTICE: [0m[1mAnalyzing module "[0;1;35mgemm.c[0m[1m" for target [0;1;35mriscv32-hero-unknown-elf[0m[1m, using [0;1;35mScratchpad Memory[0m[1m for local storage
[0m[0;1;36mNOTICE: [0mOverriding default CPU memory size with 32768 bytes
[0m[1mAnalysing kernel [0;1;35mgemm.c[0m[1m:[0;1;36m__omp_offloading_803_1108d66_gemm_zero_l125[0m
We found a loop!
Unpredictablity reason:We don't understand this SCEV well enough to perform the analysis: (trunc i64 %div to i32)
    -g for info
We found a loop!
Unpredictablity reason:We don't understand this SCEV well enough to perform the analysis: ((-27 * (trunc i64 %div to i32)) + {(trunc i64 %6 to i32),+,1}<%omp.inner.for.cond>)
    -g for info
Unpredictablity reason:We don't understand this SCEV well enough to perform the analysis: (trunc i64 %div to i32)
    -g for info
Unpredictablity reason:We don't understand this SCEV well enough to perform the analysis: (trunc i64 %div to i32)
    -g for info
Analyzing accesses of loop regions
Unpredictablity reason in loop:We don't understand this SCEV well enough to perform the analysis: ((-27 * %div) + {%6,+,1}<nsw><%omp.inner.for.cond>)
    -g for info
Unpredictablity reason in loop:We don't understand this SCEV well enough to perform the analysis: %div
    -g for info
Unpredictablity reason in loop:We don't understand this SCEV well enough to perform the analysis: %div
    -g for info
Analyzing accesses of loop regions
Unpredictablity reason in loop:We don't understand this SCEV well enough to perform the analysis: %div
    -g for info
Unpredictablity reason in loop:We don't understand this SCEV well enough to perform the analysis: ((-27 * %div) + {%6,+,1}<nsw><%omp.inner.for.cond>)
    -g for info
Unpredictablity reason in loop:We don't understand this SCEV well enough to perform the analysis: %div
    -g for info
Unpredictablity reason in loop:We don't understand this SCEV well enough to perform the analysis: %div
    -g for info
Reduced IV   %.omp.iv.0 = phi i64 [ %6, %entry.s4 ], [ %add23, %omp.inner.for.inc ] to -99 trips
NOT SUCCESSFUL!
Reduced IV   %n.0 = phi i32 [ 0, %omp.inner.for.body ], [ %inc, %for.body ] to 511 trips
Overrule intervals: Checking for environment variable HERCULES_OVERRULE_INTERVALS_riscv32...Not defined
Overrule loops: Checking for environment variable HERCULES_OVERRULE_LOOPS_riscv32...Not defined
[0m[1mINTERVAL 2: [0m[0;1;31mCOMPATIBLE [0mfrom regions 1 (-g for line info)
      Reason  : [0m[1mcall to external function: __kmpc_global_thread_num (-g for line info)
[0m
[0m[1mINTERVAL 3: [0m[0;1;32mPREDICTABLE [0m[1mLINEAR [0mfrom regions 2 (-g for line info)
  Memory use  : 28 bytes
    [[0;1;36mSCEV[0m] RANGE: .omp.lb [ 0 : 0 ] (SPM element size = 8)
    [[0;1;36mSCEV[0m] RANGE: .omp.stride [ 0 : 0 ] (SPM element size = 8)
    [[0;1;36mSCEV[0m] RANGE: .omp.is_last [ 0 : 0 ] (SPM element size = 4)
    [[0;1;36mSCEV[0m] RANGE: .omp.ub [ 0 : 0 ] (SPM element size = 8)

[0m[1mINTERVAL 4: [0m[0;1;31mCOMPATIBLE [0mfrom regions 3 (-g for line info)
      Reason  : [0m[1mcall to external function: __kmpc_for_static_init_8 (-g for line info)
[0m
[0m[1mINTERVAL 5: [0m[0;1;32mPREDICTABLE [0m[1mLINEAR [0mfrom regions 4 (-g for line info)
  Memory use  : 16 bytes
    [[0;1;36mSCEV[0m] RANGE: .omp.lb [ 0 : 0 ] (SPM element size = 8)
    [[0;1;36mSCEV[0m] RANGE: .omp.ub [ 0 : 0 ] (SPM element size = 8)

[0m[1mINTERVAL 7: [0m[0;1;32mPREDICTABLE [0m[1mLINEAR [0mfrom regions 6 (-g for line info)
  Memory use  : 32 bytes
    [[0;1;35mItBf[0m] RANGE: arrayidx13 (matA)  [ 0 : 7 ] (SPM element size = 4)

[0m[1mINTERVAL 8: [0m[0;1;32mPREDICTABLE [0m[1mLOOP [0m(tiled 511) from regions 9 (-g for line info)
  Memory use  : 32704 bytes
    [[0;1;35mItBf[0m] RANGE: arrayidx18 (matB)  [ 0 : 7 ] [ 0 : 510 ] (SPM element size = 4)
    [[0;1;35mItBf[0m] RANGE: arrayidx21 (matC)  [ 0 : 7 ] [ 0 : 510 ] (SPM element size = 4)

[0m[1mINTERVAL 12: [0m[0;1;31mCOMPATIBLE [0mfrom regions 15 (-g for line info)
      Reason  : [0m[1mcall to external function: __kmpc_barrier (-g for line info)
[0m
Collecting instructions for intervals... [0%...14%...28%...42%...57%...71%...85%...DONE]
[0;1;33mWARNING [0m[FootprintAnalysis.cpp:787] [0m[1mNot annotating ALLOCA
[0m[0;1;33mWARNING [0m[FootprintAnalysis.cpp:787] [0m[1mNot annotating ALLOCA
[0m[0;1;33mWARNING [0m[FootprintAnalysis.cpp:787] [0m[1mNot annotating ALLOCA
[0m[0;1;33mWARNING [0m[FootprintAnalysis.cpp:787] [0m[1mNot annotating ALLOCA
[0m[0;1;33mWARNING [0m[FootprintAnalysis.cpp:787] [0m[1mNot annotating ALLOCA
[0m[0;1;33mWARNING [0m[FootprintAnalysis.cpp:787] [0m[1mNot annotating ALLOCA
[0m[0;1;33mWARNING: [0mNo min offset for baseArray: [27 x float] addrspace(1)* %matA
[0;1;33mWARNING: [0mNo min offset for baseArray: [27 x float] addrspace(1)* %matA
[0;1;33mWARNING: [0mNo min offset for baseArray: [173056 x float] addrspace(1)* %matB
[0;1;33mWARNING: [0mNo min offset for baseArray: [173056 x float] addrspace(1)* %matC
[0;1;33mWARNING: [0mNo min offset for baseArray: [173056 x float] addrspace(1)* %matC
[0;1;33mWARNING: [0mNo min offset for baseArray: [27 x float] addrspace(1)* %matA
[0;1;33mWARNING: [0mNo min offset for baseArray: [173056 x float] addrspace(1)* %matB
[0;1;33mWARNING: [0mNo min offset for baseArray: [27 x float] addrspace(1)* %matA
[0;1;34m[HERCULES] Footprint Analysis : [0m[1mgemm.c (riscv32-hero-unknown-elf)[0m: Identified 7 interval(s) in 1 kernel(s).
[0;1;33mWARNING [0m[WarpSeparate.cpp:121] [0m[1mInserting COMPATIBLE PremNotify at entry "__omp_offloading_803_1108d66_gemm_zero_l125" with major ID INT_MAX.
[0m[0;1;33mWARNING [0m[WarpSeparate.cpp:121] [0m[1mInserting COMPATIBLE PremNotify at entry "__omp_offloading_803_1108d66_gemm_zero_l125.__chunk____kernel__for.cond_viCond" with major ID INT_MAX.
[0m[0;1;36mNOTICE: [0m[1mTransforming module "[0;1;35mgemm.c[0m[1m" for target [0;1;35mriscv32-hero-unknown-elf[0m[1m, using [0;1;35mScratchpad Memory[0m[1m for local storage
[0mclang-9: /scratch/mmaxim/hero/toolchain/HerculesCompiler-public/llvm-passes/src/Passes/WarpSpecialize/WarpSpecialize.cpp:3633: std::string {anonymous}::WarpSpecializeOMPOutlinedPass::findSpmArrayDims(llvm::GetElementPtrInst*, std::vector<int, std::allocator<int> >&): Assertion `Lo != nullptr && Hi != nullptr && "Failed to get array dims"' failed.
Stack dump:
0.	Program arguments: /scratch/mmaxim/hero/install/bin/clang-9 -cc1 -triple riscv32-hero-unknown-elf -aux-triple aarch64-hero-linux-gnu -load /scratch/mmaxim/hero/install/lib/hercules/libAnnotatePTXGlobals.so -load /scratch/mmaxim/hero/install/lib/hercules/libFootprintAnalysis.so -load /scratch/mmaxim/hero/install/lib/hercules/libLoopChunk.so -load /scratch/mmaxim/hero/install/lib/hercules/libLoopExtract.so -load /scratch/mmaxim/hero/install/lib/hercules/libWarpSeparate.so -load /scratch/mmaxim/hero/install/lib/hercules/libWarpSpecialize.so -load /scratch/mmaxim/hero/install/lib/hercules/libChannelArgInsertion.so -emit-llvm -disable-free -main-file-name gemm.c -static-define -mrelocation-model static -mthread-model posix -fmath-errno -mconstructor-aliases -mllvm --riscv-default-as=0 -D__host=__attribute((address_space(1))) -D__device=__attribute((address_space(0))) -target-feature +m -target-feature +a -target-feature +f -target-feature +c -target-feature +xpulpv2 -target-feature +relax -target-abi ilp32 -dwarf-column-info -debugger-tuning=gdb -momit-leaf-frame-pointer -coverage-notes-file /scratch/mmaxim/hero/openmp-examples/baby_gemm/gemm.gcno -resource-dir /scratch/mmaxim/hero/install/lib/clang/9.0.0 -dependency-file .deps/gemm.d -MP -MT gemm.ll -include hero_64.h -I /scratch/mmaxim/hero/install/../openmp-examples/polybench-acc/common -I /scratch/mmaxim/cmux/inc -I /scratch/mmaxim/cmux/src -I /scratch/mmaxim/hero/openmp-examples/common -isysroot /scratch/mmaxim/hero/install/aarch64-hero-linux-gnu/ -internal-isystem /scratch/mmaxim/hero/install/bin/../lib/gcc/riscv32-unknown-elf/7.1.1/../../../../riscv32-unknown-elf/include -internal-isystem /scratch/mmaxim/hero/install/lib/clang/9.0.0/include -internal-isystem /scratch/mmaxim/hero/install/aarch64-hero-linux-gnu/usr/include -O3 -fdebug-compilation-dir /scratch/mmaxim/hero/openmp-examples/baby_gemm -ferror-limit 19 -fmessage-length 0 -fopenmp -fno-signed-char -fobjc-runtime=gcc -fdiagnostics-show-option -vectorize-loops -vectorize-slp -fopenmp-is-device -fopenmp-host-ir-file-path /tmp/gemm-fcb9c4.bc -faddrsig -o /tmp/gemm-caa69f.ll -x c gemm.c 
1.	<eof> parser at end of file
2.	Per-module optimization passes
3.	Running pass 'HERCULES Warp Specialization' on module 'gemm.c'.
 #0 0x00007f5173a467c5 llvm::sys::PrintStackTrace(llvm::raw_ostream&) /scratch/mmaxim/hero/toolchain/llvm-project/llvm/lib/Support/Unix/Signals.inc:533:0
 #1 0x00007f5173a46856 PrintStackTraceSignalHandler(void*) /scratch/mmaxim/hero/toolchain/llvm-project/llvm/lib/Support/Unix/Signals.inc:594:0
 #2 0x00007f5173a44a5b llvm::sys::RunSignalHandlers() /scratch/mmaxim/hero/toolchain/llvm-project/llvm/lib/Support/Signals.cpp:68:0
 #3 0x00007f5173a46247 SignalHandler(int) /scratch/mmaxim/hero/toolchain/llvm-project/llvm/lib/Support/Unix/Signals.inc:385:0
 #4 0x00007f517276d5f0 __restore_rt (/lib64/libpthread.so.0+0xf5f0)
 #5 0x00007f516e95c337 raise (/lib64/libc.so.6+0x36337)
 #6 0x00007f516e95da28 abort (/lib64/libc.so.6+0x37a28)
 #7 0x00007f516e955156 __assert_fail_base (/lib64/libc.so.6+0x2f156)
 #8 0x00007f516e955202 (/lib64/libc.so.6+0x2f202)
 #9 0x00007f515f72878b (anonymous namespace)::WarpSpecializeOMPOutlinedPass::findSpmArrayDims(llvm::GetElementPtrInst*, std::vector<int, std::allocator<int> >&) /scratch/mmaxim/hero/toolchain/HerculesCompiler-public/llvm-passes/src/Passes/WarpSpecialize/WarpSpecialize.cpp:3636:0
#10 0x00007f515f72c385 (anonymous namespace)::WarpSpecializeOMPOutlinedPass::createScratchpadBuffer(llvm::Instruction*, (anonymous namespace)::WarpSpecializeOMPOutlinedPass::SpmAlloc&) /scratch/mmaxim/hero/toolchain/HerculesCompiler-public/llvm-passes/src/Passes/WarpSpecialize/WarpSpecialize.cpp:4140:0
#11 0x00007f515f72928d (anonymous namespace)::WarpSpecializeOMPOutlinedPass::createSpmBuffers(std::vector<llvm::Instruction*, std::allocator<llvm::Instruction*> >, (anonymous namespace)::WarpSpecializeOMPOutlinedPass::SpmAlloc&, std::string) /scratch/mmaxim/hero/toolchain/HerculesCompiler-public/llvm-passes/src/Passes/WarpSpecialize/WarpSpecialize.cpp:3728:0
#12 0x00007f515f72482b (anonymous namespace)::WarpSpecializeOMPOutlinedPass::warpSpecializeExecute(llvm::Function&, (anonymous namespace)::WarpSpecializeOMPOutlinedPass::SpmAlloc&, int) /scratch/mmaxim/hero/toolchain/HerculesCompiler-public/llvm-passes/src/Passes/WarpSpecialize/WarpSpecialize.cpp:2764:0
#13 0x00007f515f71623c (anonymous namespace)::WarpSpecializeOMPOutlinedPass::runOnModule(llvm::Module&) /scratch/mmaxim/hero/toolchain/HerculesCompiler-public/llvm-passes/src/Passes/WarpSpecialize/WarpSpecialize.cpp:353:0
#14 0x00007f5176f31e2d (anonymous namespace)::MPPassManager::runOnModule(llvm::Module&) /scratch/mmaxim/hero/toolchain/llvm-project/llvm/lib/IR/LegacyPassManager.cpp:1750:0
#15 0x00007f5176f3259c llvm::legacy::PassManagerImpl::run(llvm::Module&) /scratch/mmaxim/hero/toolchain/llvm-project/llvm/lib/IR/LegacyPassManager.cpp:1863:0
#16 0x00007f5176f327d5 llvm::legacy::PassManager::run(llvm::Module&) /scratch/mmaxim/hero/toolchain/llvm-project/llvm/lib/IR/LegacyPassManager.cpp:1895:0
#17 0x00007f517109653d (anonymous namespace)::EmitAssemblyHelper::EmitAssembly(clang::BackendAction, std::unique_ptr<llvm::raw_pwrite_stream, std::default_delete<llvm::raw_pwrite_stream> >) /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/CodeGen/BackendUtil.cpp:893:0
#18 0x00007f517109a63f clang::EmitBackendOutput(clang::DiagnosticsEngine&, clang::HeaderSearchOptions const&, clang::CodeGenOptions const&, clang::TargetOptions const&, clang::LangOptions const&, llvm::DataLayout const&, llvm::Module*, clang::BackendAction, std::unique_ptr<llvm::raw_pwrite_stream, std::default_delete<llvm::raw_pwrite_stream> >) /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/CodeGen/BackendUtil.cpp:1498:0
#19 0x00007f51714c0376 clang::BackendConsumer::HandleTranslationUnit(clang::ASTContext&) /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/CodeGen/CodeGenAction.cpp:305:0
#20 0x00007f516713bdc6 clang::ParseAST(clang::Sema&, bool, bool) /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/Parse/ParseAST.cpp:178:0
#21 0x00007f517037abea clang::ASTFrontendAction::ExecuteAction() /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/Frontend/FrontendAction.cpp:1043:0
#22 0x00007f51714bd084 clang::CodeGenAction::ExecuteAction() /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/CodeGen/CodeGenAction.cpp:1060:0
#23 0x00007f517037a53f clang::FrontendAction::Execute() /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/Frontend/FrontendAction.cpp:938:0
#24 0x00007f5170307164 clang::CompilerInstance::ExecuteAction(clang::FrontendAction&) /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/Frontend/CompilerInstance.cpp:944:0
#25 0x00007f516fd92281 clang::ExecuteCompilerInvocation(clang::CompilerInstance*) /scratch/mmaxim/hero/toolchain/llvm-project/clang/lib/FrontendTool/ExecuteCompilerInvocation.cpp:291:0
#26 0x00000000004561a7 cc1_main(llvm::ArrayRef<char const*>, char const*, void*) /scratch/mmaxim/hero/toolchain/llvm-project/clang/tools/driver/cc1_main.cpp:249:0
#27 0x000000000044c32f ExecuteCC1Tool(llvm::ArrayRef<char const*>, llvm::StringRef) /scratch/mmaxim/hero/toolchain/llvm-project/clang/tools/driver/driver.cpp:309:0
#28 0x000000000044c9f5 main /scratch/mmaxim/hero/toolchain/llvm-project/clang/tools/driver/driver.cpp:381:0
#29 0x00007f516e948505 __libc_start_main (/lib64/libc.so.6+0x22505)
#30 0x000000000044acf9 _start (/scratch/mmaxim/hero/install/bin/clang-9+0x44acf9)
clang-9: error: unable to execute command: Aborted
[0;1;33mWARNING [0m[Utils.cpp:136] [0m[1mNot handling arguments for kmpc_forks
[0m[0;1;33mWARNING [0m[Utils.cpp:136] [0m[1mNot handling arguments for kmpc_forks
[0m
; Function Attrs: norecurse nounwind
define internal void @.omp_outlined.(i32* noalias nocapture readonly %.global_tid., i32* noalias nocapture readnone %.bound_tid., i32* nocapture readonly dereferenceable(4) %M, i32* nocapture dereferenceable(4) %k, i32* nocapture readonly dereferenceable(4) %K, float* nocapture readonly dereferenceable(4) %ALPHA, float** nocapture readonly dereferenceable(8) %A, i32* nocapture readonly dereferenceable(4) %lda, i32* nocapture dereferenceable(4) %j, i32* nocapture readonly dereferenceable(4) %N, float** nocapture readonly dereferenceable(8) %C, i32* nocapture readonly dereferenceable(4) %ldc, float** nocapture readonly dereferenceable(8) %B, i32* nocapture readonly dereferenceable(4) %ldb) #8 {
entry:
  %.omp.lb = alloca i32, align 4
  %.omp.ub = alloca i32, align 4
  %.omp.stride = alloca i32, align 4
  %.omp.is_last = alloca i32, align 4
  %0 = load i32, i32* %M, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %sub2 = add nsw i32 %0, -1
  %cmp = icmp sgt i32 %0, 0
  br i1 %cmp, label %omp.precond.then, label %omp.precond.end

omp.precond.then:                                 ; preds = %entry
  %1 = bitcast i32* %.omp.lb to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %1) #11
  store i32 0, i32* %.omp.lb, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %2 = bitcast i32* %.omp.ub to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %2) #11
  store i32 %sub2, i32* %.omp.ub, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %3 = bitcast i32* %.omp.stride to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %3) #11
  store i32 1, i32* %.omp.stride, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %4 = bitcast i32* %.omp.is_last to i8*
  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %4) #11
  store i32 0, i32* %.omp.is_last, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %5 = load i32, i32* %.global_tid., align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  call void @__kmpc_for_static_init_4(%struct.ident_t* nonnull @0, i32 %5, i32 34, i32* nonnull %.omp.is_last, i32* nonnull %.omp.lb, i32* nonnull %.omp.ub, i32* nonnull %.omp.stride, i32 1, i32 1) #11
  %6 = load i32, i32* %.omp.ub, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp5 = icmp sgt i32 %6, %sub2
  %cond = select i1 %cmp5, i32 %sub2, i32 %6
  store i32 %cond, i32* %.omp.ub, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %7 = load i32, i32* %.omp.lb, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %8 = load float*, float** %A, align 8
  %9 = load float*, float** %B, align 8
  %10 = load float*, float** %C, align 8
  %cmp682 = icmp sgt i32 %7, %cond
  br i1 %cmp682, label %omp.loop.exit, label %for.cond.preheader

for.cond.preheader:                               ; preds = %omp.precond.then, %omp.inner.for.inc
  %.omp.iv.0.reg2mem74.083.reg2mem45.0 = phi i32 [ %add28, %omp.inner.for.inc ], [ %7, %omp.precond.then ]
  store i32 0, i32* %k, align 4, !tbaa !13
  %11 = load i32, i32* %K, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp880 = icmp sgt i32 %11, 0
  br i1 %cmp880, label %for.body, label %omp.inner.for.inc

for.body:                                         ; preds = %for.cond.preheader, %for.end
  %storemerge81.reg2mem.0 = phi i32 [ %inc26, %for.end ], [ 0, %for.cond.preheader ]
  %12 = load float, float* %ALPHA, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %13 = load i32, i32* %lda, align 4, !tbaa !13, !HRCLGlobalLoadStore !9, !HRCLIntermediateOnly !9
  %mul9 = mul nsw i32 %13, %.omp.iv.0.reg2mem74.083.reg2mem45.0
  %add10 = add nsw i32 %mul9, %storemerge81.reg2mem.0
  %idxprom = sext i32 %add10 to i64
  %arrayidx = getelementptr inbounds float, float* %8, i64 %idxprom
  %14 = load float, float* %arrayidx, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %mul11 = fmul float %12, %14
  store i32 0, i32* %j, align 4, !tbaa !13
  %15 = load i32, i32* %N, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp1378 = icmp sgt i32 %15, 0
  %16 = load i32, i32* %k, align 4, !tbaa !13
  br i1 %cmp1378, label %for.body14, label %for.end

for.body14:                                       ; preds = %for.body, %for.body14
  %storemerge7779.reg2mem.0 = phi i32 [ %inc, %for.body14 ], [ 0, %for.body ]
  %.reg2mem43.0 = phi i32 [ %22, %for.body14 ], [ %16, %for.body ]
  %17 = load i32, i32* %ldb, align 4, !tbaa !13, !HRCLGlobalLoadStore !9, !HRCLIntermediateOnly !9
  %mul15 = mul nsw i32 %17, %.reg2mem43.0
  %add16 = add nsw i32 %mul15, %storemerge7779.reg2mem.0
  %idxprom17 = sext i32 %add16 to i64
  %arrayidx18 = getelementptr inbounds float, float* %9, i64 %idxprom17
  %18 = load float, float* %arrayidx18, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %mul19 = fmul float %mul11, %18
  %19 = load i32, i32* %ldc, align 4, !tbaa !13, !HRCLGlobalLoadStore !9, !HRCLIntermediateOnly !9
  %mul20 = mul nsw i32 %19, %.omp.iv.0.reg2mem74.083.reg2mem45.0
  %add21 = add nsw i32 %mul20, %storemerge7779.reg2mem.0
  %idxprom22 = sext i32 %add21 to i64
  %arrayidx23 = getelementptr inbounds float, float* %10, i64 %idxprom22
  %20 = load float, float* %arrayidx23, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %add24 = fadd float %mul19, %20
  store float %add24, float* %arrayidx23, align 4, !tbaa !15, !HRCLGlobalLoadStore !9
  %inc = add nuw nsw i32 %storemerge7779.reg2mem.0, 1
  store i32 %inc, i32* %j, align 4, !tbaa !13
  %21 = load i32, i32* %N, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp13 = icmp slt i32 %inc, %21
  %22 = load i32, i32* %k, align 4, !tbaa !13
  br i1 %cmp13, label %for.body14, label %for.end

for.end:                                          ; preds = %for.body14, %for.body
  %.lcssa.reg2mem.0 = phi i32 [ %16, %for.body ], [ %22, %for.body14 ]
  %inc26 = add nsw i32 %.lcssa.reg2mem.0, 1
  store i32 %inc26, i32* %k, align 4, !tbaa !13
  %23 = load i32, i32* %K, align 4, !tbaa !13, !HRCLGlobalLoadStore !9
  %cmp8 = icmp slt i32 %inc26, %23
  br i1 %cmp8, label %for.body, label %omp.inner.for.inc

omp.inner.for.inc:                                ; preds = %for.end, %for.cond.preheader
  %cmp6 = icmp slt i32 %.omp.iv.0.reg2mem74.083.reg2mem45.0, %cond
  %add28 = add nsw i32 %.omp.iv.0.reg2mem74.083.reg2mem45.0, 1
  br i1 %cmp6, label %for.cond.preheader, label %omp.loop.exit

omp.loop.exit:                                    ; preds = %omp.inner.for.inc, %omp.precond.then
  call void @__kmpc_for_static_fini(%struct.ident_t* nonnull @0, i32 %5) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %4) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %3) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %2) #11
  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %1) #11
  br label %omp.precond.end

omp.precond.end:                                  ; preds = %entry, %omp.loop.exit
  ret void
}

clang-9: error: clang frontend command failed due to signal (use -v to see invocation)
clang version 9.0.0 (git@iis-git.ee.ethz.ch:hero/llvm-project.git bea3a647cfcbc91f9f46d515ba01d4431be2cde3)
Target: aarch64-hero-linux-gnu
Thread model: posix
InstalledDir: /scratch/mmaxim/hero/install/bin
clang-9: note: diagnostic msg: PLEASE submit a bug report to https://bugs.llvm.org/ and include the crash backtrace, preprocessed source, and associated run script.
clang-9: note: diagnostic msg: Error generating preprocessed source(s).
make: *** [gemm.ll] Error 254
rm main-dev.OMP.ll main-host.OMP.ll
baby_gemm: No such file or directory
